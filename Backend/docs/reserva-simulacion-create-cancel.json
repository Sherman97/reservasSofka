{
  "scenario": "create_and_cancel_same_reservation",
  "baseUrl": "http://localhost:3000",
  "notes": [
    "1) Hacer login para obtener JWT",
    "2) Crear reserva con createReservation.request",
    "3) Tomar data.id de la respuesta y usarlo en cancelReservation.path",
    "4) Cancelar esa misma reserva"
  ],
  "login": {
    "method": "POST",
    "path": "/auth/login",
    "request": {
      "email": "juan.perez@demo.local",
      "password": "123456"
    },
    "responseMock": {
      "ok": true,
      "data": {
        "user": {
          "id": 1,
          "name": "Juan Perez",
          "email": "juan.perez@demo.local"
        },
        "token": "<JWT>"
      },
      "message": null
    }
  },
  "createReservation": {
    "method": "POST",
    "path": "/bookings/reservations",
    "headers": {
      "Authorization": "Bearer <JWT>",
      "Content-Type": "application/json"
    },
    "request": {
      "spaceId": 1,
      "startAt": "2026-03-20T14:00:00Z",
      "endAt": "2026-03-20T16:00:00Z",
      "title": "Prueba create-cancel automatica",
      "attendeesCount": 6,
      "notes": "Reserva para validar flujo completo.",
      "equipmentIds": [1]
    },
    "responseMock": {
      "ok": true,
      "data": {
        "id": 101,
        "userId": 1,
        "spaceId": 1,
        "startAt": "2026-03-20T14:00:00Z",
        "endAt": "2026-03-20T16:00:00Z",
        "status": "confirmed",
        "title": "Prueba create-cancel automatica",
        "attendeesCount": 6,
        "notes": "Reserva para validar flujo completo.",
        "cancellationReason": null,
        "createdAt": "2026-03-20T13:30:00Z",
        "equipments": [
          {
            "id": 501,
            "equipmentId": 1,
            "status": "requested",
            "deliveredAt": null,
            "deliveredBy": null,
            "returnedAt": null,
            "returnedBy": null,
            "conditionNotes": null
          }
        ]
      },
      "message": null
    }
  },
  "cancelReservation": {
    "method": "PATCH",
    "path": "/bookings/reservations/{{createReservation.responseMock.data.id}}/cancel",
    "headers": {
      "Authorization": "Bearer <JWT>",
      "Content-Type": "application/json"
    },
    "request": {
      "reason": "Cancelacion automatica de prueba"
    },
    "responseMock": {
      "ok": true,
      "data": {
        "id": 101,
        "userId": 1,
        "spaceId": 1,
        "startAt": "2026-03-20T14:00:00Z",
        "endAt": "2026-03-20T16:00:00Z",
        "status": "cancelled",
        "title": "Prueba create-cancel automatica",
        "attendeesCount": 6,
        "notes": "Reserva para validar flujo completo.",
        "cancellationReason": "Cancelacion automatica de prueba",
        "createdAt": "2026-03-20T13:30:00Z",
        "equipments": [
          {
            "id": 501,
            "equipmentId": 1,
            "status": "requested",
            "deliveredAt": null,
            "deliveredBy": null,
            "returnedAt": null,
            "returnedBy": null,
            "conditionNotes": null
          }
        ]
      },
      "message": null
    }
  }
}
